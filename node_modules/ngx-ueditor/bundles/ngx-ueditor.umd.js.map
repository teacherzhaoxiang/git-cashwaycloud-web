{"version":3,"file":"ngx-ueditor.umd.js.map","sources":["ng://ngx-ueditor/src/script.service.ts","ng://ngx-ueditor/src/ueditor.config.ts","ng://ngx-ueditor/src/ueditor.component.ts","ng://ngx-ueditor/src/ueditor.module.ts","ng://ngx-ueditor/ngx-ueditor.ts"],"sourcesContent":["import { Injectable, Inject } from '@angular/core';\r\nimport { DOCUMENT } from '@angular/common';\r\nimport { Subject } from 'rxjs';\r\n\r\n@Injectable()\r\nexport class ScriptService {\r\n  private loaded = false;\r\n  private list: any = {};\r\n  private emitter: Subject<boolean> = new Subject<boolean>();\r\n\r\n  constructor(@Inject(DOCUMENT) private doc: any) {}\r\n\r\n  getChangeEmitter() {\r\n    return this.emitter;\r\n  }\r\n\r\n  load(path: string[]) {\r\n    if (this.loaded) return this;\r\n\r\n    this.loaded = true;\r\n\r\n    const promises: Promise<any>[] = [];\r\n\r\n    path.forEach(script => promises.push(this.loadScript(script)));\r\n\r\n    Promise.all(promises).then(() => this.emitter.next(true));\r\n\r\n    return this;\r\n  }\r\n\r\n  loadScript(path: string): Promise<any> {\r\n    return new Promise((resolve, reject) => {\r\n      if (this.list[path] === true) {\r\n        resolve(<any>{\r\n          path: path,\r\n          loaded: true,\r\n          status: 'Loaded',\r\n        });\r\n        return;\r\n      }\r\n\r\n      this.list[path] = true;\r\n\r\n      const node = this.doc.createElement('script');\r\n      node.type = 'text/javascript';\r\n      node.src = path;\r\n      node.charset = 'utf-8';\r\n      if (node.readyState) {\r\n        // IE\r\n        node.onreadystatechange = () => {\r\n          if (node.readyState === 'loaded' || node.readyState === 'complete') {\r\n            node.onreadystatechange = null;\r\n            resolve(<any>{\r\n              path: path,\r\n              loaded: true,\r\n              status: 'Loaded',\r\n            });\r\n          }\r\n        };\r\n      } else {\r\n        node.onload = () => {\r\n          resolve(<any>{\r\n            path: path,\r\n            loaded: true,\r\n            status: 'Loaded',\r\n          });\r\n        };\r\n      }\r\n      node.onerror = () =>\r\n        resolve(<any>{\r\n          path: path,\r\n          loaded: false,\r\n          status: 'Loaded',\r\n        });\r\n      this.doc.getElementsByTagName('head')[0].appendChild(node);\r\n    });\r\n  }\r\n}\r\n","export interface UEditorOptions {\r\n  [key: string]: any;\r\n  /** å½ä½ ä½¿ç¨ `cdn` æ¶ï¼å±æ§å¿å¡«ï¼ç¸å½äºæ´ä¸ª Ueditor æéè¦è¯­è¨ãä¸»é¢ãå¯¹è¯æ¡ç­æ ¹è·¯å¾ */\r\n  UEDITOR_HOME_URL: string;\r\n  /** æå¡å¨ç»ä¸è¯·æ±æ¥å£è·¯å¾ */\r\n  serverUrl?: string;\r\n  /** å·¥å·æ ä¸çææçåè½æé®åä¸ææ¡ï¼å¯ä»¥å¨newç¼è¾å¨çå®ä¾æ¶éæ©èªå·±éè¦çä»æ°å®ä¹ */\r\n  toolbars?: string[][];\r\n  /** ç¼è¾å¨å±çº§çåºæ°,é»è®¤ `900` */\r\n  zIndex?: number;\r\n}\r\n\r\nexport class UEditorConfig {\r\n  /**\r\n   * Ueditor [åç«¯éç½®é¡¹](http://fex.baidu.com/ueditor/#start-config)\r\n   */\r\n  options: UEditorOptions;\r\n\r\n  /**\r\n   * æå®ueditor.jsåconfig.jsè·¯å¾ï¼è¿æ¯å¯å¨ Ueditor å¿å¤\r\n   * - **å¡å¿**æå® `options.UEDITOR_HOME_URL`ï¼è½ç¶é»è®¤ä¼æ ¹æ® `config.js` è·¯å¾è·åï¼ä½æäºç¯å¢ä¸æ´æä¿è¯ï¼\r\n   */\r\n  js: string[];\r\n\r\n  /**\r\n   * Hook\r\n   * - å¨ Ueditor å¯¹è±¡å è½½å®æåæ§è¡\r\n   * - åªæ§è¡ä¸æ¬¡\r\n   */\r\n  hook?: (ue: any) => void;\r\n}\r\n","import {\r\n  Component,\r\n  Input,\r\n  forwardRef,\r\n  OnDestroy,\r\n  EventEmitter,\r\n  Output,\r\n  OnInit,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  AfterViewInit,\r\n  OnChanges,\r\n  SimpleChanges,\r\n  NgZone,\r\n} from '@angular/core';\r\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/forms';\r\n\r\nimport { ScriptService } from './script.service';\r\nimport { UEditorConfig } from './ueditor.config';\r\n\r\ndeclare const window: any;\r\ndeclare const UE: any;\r\nlet _hook_finished = false;\r\n\r\nexport type EventTypes =\r\n  | 'destroy'\r\n  | 'reset'\r\n  | 'focus'\r\n  | 'langReady'\r\n  | 'beforeExecCommand'\r\n  | 'afterExecCommand'\r\n  | 'firstBeforeExecCommand'\r\n  | 'beforeGetContent'\r\n  | 'afterGetContent'\r\n  | 'getAllHtml'\r\n  | 'beforeSetContent'\r\n  | 'afterSetContent'\r\n  | 'selectionchange'\r\n  | 'beforeSelectionChange'\r\n  | 'afterSelectionChange';\r\n\r\n@Component({\r\n  selector: 'ueditor',\r\n  template: `\r\n  <textarea id=\"{{id}}\" class=\"ueditor-textarea\"></textarea>\r\n  <div *ngIf=\"loading\" class=\"loading\" [innerHTML]=\"loadingTip\"></div>\r\n  `,\r\n  preserveWhitespaces: false,\r\n  styles: [\r\n    `\r\n      :host {\r\n        line-height: initial;\r\n      }\r\n      :host .ueditor-textarea {\r\n        display: none;\r\n      }\r\n    `,\r\n  ],\r\n  providers: [\r\n    {\r\n      provide: NG_VALUE_ACCESSOR,\r\n      useExisting: forwardRef(() => UEditorComponent),\r\n      multi: true,\r\n    },\r\n  ],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class UEditorComponent\r\n  implements OnInit, AfterViewInit, OnChanges, OnDestroy, ControlValueAccessor {\r\n  private instance: any;\r\n  private value: string;\r\n  private inited = false;\r\n  private events: any = {};\r\n\r\n  private onChange: (value: string) => void;\r\n  private onTouched: () => void;\r\n\r\n  loading = true;\r\n  id = `_ueditor-${Math.random()\r\n    .toString(36)\r\n    .substring(2)}`;\r\n\r\n  @Input()\r\n  config: any;\r\n  @Input()\r\n  loadingTip = 'å è½½ä¸­...';\r\n  @Input()\r\n  set disabled(value: boolean) {\r\n    this._disabled = value;\r\n    this.setDisabled();\r\n  }\r\n  private _disabled = false;\r\n\r\n  /** å»¶è¿åå§å */\r\n  @Input()\r\n  delay = 50;\r\n\r\n  @Output()\r\n  readonly onPreReady = new EventEmitter<UEditorComponent>();\r\n  @Output()\r\n  readonly onReady = new EventEmitter<UEditorComponent>();\r\n  @Output()\r\n  readonly onDestroy = new EventEmitter();\r\n\r\n  constructor(\r\n    private ss: ScriptService,\r\n    private cog: UEditorConfig,\r\n    private cd: ChangeDetectorRef,\r\n    private zone: NgZone,\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.inited = true;\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    // å·²ç»å­å¨å¯¹è±¡æ é¡»è¿å¥æå è½½æ¨¡å¼\r\n    if (window.UE) {\r\n      this.initDelay();\r\n      return;\r\n    }\r\n\r\n    this.ss\r\n      .load(this.cog.js)\r\n      .getChangeEmitter()\r\n      .subscribe(res => {\r\n        this.initDelay();\r\n      });\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (this.inited && changes.config) {\r\n      this.destroy();\r\n      this.initDelay();\r\n    }\r\n  }\r\n\r\n  private initDelay() {\r\n    setTimeout(() => this.init(), this.delay);\r\n  }\r\n\r\n  private init() {\r\n    if (!window.UE) throw new Error('uedito jsæä»¶å è½½å¤±è´¥');\r\n\r\n    if (this.instance) return;\r\n\r\n    // registrer hook\r\n    if (this.cog.hook && !_hook_finished) {\r\n      _hook_finished = true;\r\n      this.cog.hook(UE);\r\n    }\r\n\r\n    this.onPreReady.emit(this);\r\n\r\n    const opt = Object.assign({}, this.cog.options, this.config);\r\n\r\n    this.zone.runOutsideAngular(() => {\r\n      const ueditor = UE.getEditor(this.id, opt);\r\n      ueditor.ready(() => {\r\n        this.instance = ueditor;\r\n        if (this.value) this.instance.setContent(this.value);\r\n        this.onReady.emit(this);\r\n      });\r\n\r\n      ueditor.addListener('contentChange', () => {\r\n        this.value = ueditor.getContent();\r\n\r\n        this.zone.run(() => this.onChange(this.value));\r\n      });\r\n    });\r\n    this.loading = false;\r\n    this.cd.detectChanges();\r\n  }\r\n\r\n  private destroy() {\r\n    if (this.instance) {\r\n      this.zone.runOutsideAngular(() => {\r\n        Object.keys(this.events).forEach(name =>\r\n          this.instance.removeListener(name, this.events[name]),\r\n        );\r\n        this.instance.removeListener('ready');\r\n        this.instance.removeListener('contentChange');\r\n        this.instance.destroy();\r\n        this.instance = null;\r\n      });\r\n    }\r\n    this.onDestroy.emit();\r\n  }\r\n\r\n  private setDisabled() {\r\n    if (!this.instance) return;\r\n    if (this._disabled) {\r\n      this.instance.setDisabled();\r\n    } else {\r\n      this.instance.setEnabled();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * è·åUEå®ä¾\r\n   *\r\n   * @readonly\r\n   */\r\n  get Instance(): any {\r\n    return this.instance;\r\n  }\r\n\r\n  /**\r\n   * è®¾ç½®ç¼è¾å¨è¯­è¨\r\n   */\r\n  setLanguage(lang: 'zh-cn' | 'en') {\r\n    this.ss\r\n      .loadScript(\r\n        `${this.cog.options.UEDITOR_HOME_URL}/lang/${lang}/${lang}.js`,\r\n      )\r\n      .then(res => {\r\n        this.destroy();\r\n\r\n        // æ¸ç©ºè¯­è¨\r\n        if (!UE._bak_I18N) {\r\n          UE._bak_I18N = UE.I18N;\r\n        }\r\n        UE.I18N = {};\r\n        UE.I18N[lang] = UE._bak_I18N[lang];\r\n\r\n        this.initDelay();\r\n      });\r\n  }\r\n\r\n  /**\r\n   * æ·»å ç¼è¾å¨äºä»¶\r\n   */\r\n  addListener(eventName: EventTypes, fn: Function): void {\r\n    if (this.events[eventName]) return;\r\n    this.events[eventName] = fn;\r\n    this.instance.addListener(eventName, fn);\r\n  }\r\n\r\n  /**\r\n   * ç§»é¤ç¼è¾å¨äºä»¶\r\n   */\r\n  removeListener(eventName: EventTypes): void {\r\n    if (!this.events[eventName]) return;\r\n    this.instance.removeListener(eventName, this.events[eventName]);\r\n    delete this.events[eventName];\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.destroy();\r\n  }\r\n\r\n  // reuse-tab: http://ng-alain.com/components/reuse-tab#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F\r\n  _onReuseInit() {\r\n    this.destroy();\r\n    this.initDelay();\r\n  }\r\n\r\n  writeValue(value: string): void {\r\n    this.value = value;\r\n    if (this.instance) {\r\n      this.instance.setContent(this.value);\r\n    }\r\n  }\r\n\r\n  registerOnChange(fn: (_: any) => {}): void {\r\n    this.onChange = fn;\r\n  }\r\n  registerOnTouched(fn: () => {}): void {\r\n    this.onTouched = fn;\r\n  }\r\n\r\n  setDisabledState(isDisabled: boolean): void {\r\n    this.disabled = isDisabled;\r\n    this.setDisabled();\r\n  }\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule, ModuleWithProviders } from '@angular/core';\r\n\r\nimport { UEditorComponent } from './ueditor.component';\r\nimport { UEditorConfig } from './ueditor.config';\r\nimport { ScriptService } from './script.service';\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  providers: [ScriptService],\r\n  declarations: [UEditorComponent],\r\n  exports: [UEditorComponent],\r\n})\r\nexport class UEditorModule {\r\n  static forRoot(config: UEditorConfig): ModuleWithProviders {\r\n    return {\r\n      ngModule: UEditorModule,\r\n      providers: [{ provide: UEditorConfig, useValue: config }],\r\n    };\r\n  }\r\n}\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n\nexport {ScriptService as Éµa} from './src/script.service';"],"names":["Subject","Injectable","Inject","DOCUMENT","EventEmitter","Component","NG_VALUE_ACCESSOR","forwardRef","ChangeDetectionStrategy","ChangeDetectorRef","NgZone","Input","Output","NgModule","CommonModule"],"mappings":";;;;;;;QAUE,uBAAsC,GAAQ;YAAR,QAAG,GAAH,GAAG,CAAK;YAJtC,WAAM,GAAG,KAAK,CAAC;YACf,SAAI,GAAQ,EAAE,CAAC;YACf,YAAO,GAAqB,IAAIA,YAAO,EAAW,CAAC;SAET;QAElD,wCAAgB,GAAhB;YACE,OAAO,IAAI,CAAC,OAAO,CAAC;SACrB;QAED,4BAAI,GAAJ,UAAK,IAAc;YAAnB,iBAYC;YAXC,IAAI,IAAI,CAAC,MAAM;gBAAE,OAAO,IAAI,CAAC;YAE7B,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;YAEnB,IAAM,QAAQ,GAAmB,EAAE,CAAC;YAEpC,IAAI,CAAC,OAAO,CAAC,UAAA,MAAM,IAAI,OAAA,QAAQ,CAAC,IAAI,CAAC,KAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,GAAA,CAAC,CAAC;YAE/D,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,cAAM,OAAA,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,GAAA,CAAC,CAAC;YAE1D,OAAO,IAAI,CAAC;SACb;QAED,kCAAU,GAAV,UAAW,IAAY;YAAvB,iBA8CC;YA7CC,OAAO,IAAI,OAAO,CAAC,UAAC,OAAO,EAAE,MAAM;gBACjC,IAAI,KAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,IAAI,EAAE;oBAC5B,OAAO,CAAM;wBACX,IAAI,EAAE,IAAI;wBACV,MAAM,EAAE,IAAI;wBACZ,MAAM,EAAE,QAAQ;qBACjB,CAAC,CAAC;oBACH,OAAO;iBACR;gBAED,KAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC;gBAEvB,IAAM,IAAI,GAAG,KAAI,CAAC,GAAG,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;gBAC9C,IAAI,CAAC,IAAI,GAAG,iBAAiB,CAAC;gBAC9B,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC;gBAChB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;gBACvB,IAAI,IAAI,CAAC,UAAU,EAAE;;oBAEnB,IAAI,CAAC,kBAAkB,GAAG;wBACxB,IAAI,IAAI,CAAC,UAAU,KAAK,QAAQ,IAAI,IAAI,CAAC,UAAU,KAAK,UAAU,EAAE;4BAClE,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;4BAC/B,OAAO,CAAM;gCACX,IAAI,EAAE,IAAI;gCACV,MAAM,EAAE,IAAI;gCACZ,MAAM,EAAE,QAAQ;6BACjB,CAAC,CAAC;yBACJ;qBACF,CAAC;iBACH;qBAAM;oBACL,IAAI,CAAC,MAAM,GAAG;wBACZ,OAAO,CAAM;4BACX,IAAI,EAAE,IAAI;4BACV,MAAM,EAAE,IAAI;4BACZ,MAAM,EAAE,QAAQ;yBACjB,CAAC,CAAC;qBACJ,CAAC;iBACH;gBACD,IAAI,CAAC,OAAO,GAAG;oBACb,OAAA,OAAO,CAAM;wBACX,IAAI,EAAE,IAAI;wBACV,MAAM,EAAE,KAAK;wBACb,MAAM,EAAE,QAAQ;qBACjB,CAAC;iBAAA,CAAC;gBACL,KAAI,CAAC,GAAG,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;aAC5D,CAAC,CAAC;SACJ;;oBAxEFC,eAAU;;;;;wDAMIC,WAAM,SAACC,eAAQ;;;QAmE9B,oBAAC;KAzED;;;QCQA;SAkBC;QAAD,oBAAC;IAAD,CAAC;;ICRD,IAAI,cAAc,GAAG,KAAK,CAAC;AAmB3B;QA+DE,0BACU,EAAiB,EACjB,GAAkB,EAClB,EAAqB,EACrB,IAAY;YAHZ,OAAE,GAAF,EAAE,CAAe;YACjB,QAAG,GAAH,GAAG,CAAe;YAClB,OAAE,GAAF,EAAE,CAAmB;YACrB,SAAI,GAAJ,IAAI,CAAQ;YArCd,WAAM,GAAG,KAAK,CAAC;YACf,WAAM,GAAQ,EAAE,CAAC;YAKzB,YAAO,GAAG,IAAI,CAAC;YACf,OAAE,GAAG,cAAY,IAAI,CAAC,MAAM,EAAE;iBAC3B,QAAQ,CAAC,EAAE,CAAC;iBACZ,SAAS,CAAC,CAAC,CAAG,CAAC;YAKlB,eAAU,GAAG,QAAQ,CAAC;YAMd,cAAS,GAAG,KAAK,CAAC;;YAI1B,UAAK,GAAG,EAAE,CAAC;YAGF,eAAU,GAAG,IAAIC,iBAAY,EAAoB,CAAC;YAElD,YAAO,GAAG,IAAIA,iBAAY,EAAoB,CAAC;YAE/C,cAAS,GAAG,IAAIA,iBAAY,EAAE,CAAC;SAOpC;QAvBJ,sBACI,sCAAQ;iBADZ,UACa,KAAc;gBACzB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;gBACvB,IAAI,CAAC,WAAW,EAAE,CAAC;aACpB;;;WAAA;QAqBD,mCAAQ,GAAR;YACE,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;SACpB;QAED,0CAAe,GAAf;YAAA,iBAaC;;YAXC,IAAI,MAAM,CAAC,EAAE,EAAE;gBACb,IAAI,CAAC,SAAS,EAAE,CAAC;gBACjB,OAAO;aACR;YAED,IAAI,CAAC,EAAE;iBACJ,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC;iBACjB,gBAAgB,EAAE;iBAClB,SAAS,CAAC,UAAA,GAAG;gBACZ,KAAI,CAAC,SAAS,EAAE,CAAC;aAClB,CAAC,CAAC;SACN;QAED,sCAAW,GAAX,UAAY,OAAsB;YAChC,IAAI,IAAI,CAAC,MAAM,IAAI,OAAO,CAAC,MAAM,EAAE;gBACjC,IAAI,CAAC,OAAO,EAAE,CAAC;gBACf,IAAI,CAAC,SAAS,EAAE,CAAC;aAClB;SACF;QAEO,oCAAS,GAAjB;YAAA,iBAEC;YADC,UAAU,CAAC,cAAM,OAAA,KAAI,CAAC,IAAI,EAAE,GAAA,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;SAC3C;QAEO,+BAAI,GAAZ;YAAA,iBA+BC;YA9BC,IAAI,CAAC,MAAM,CAAC,EAAE;gBAAE,MAAM,IAAI,KAAK,CAAC,iBAAiB,CAAC,CAAC;YAEnD,IAAI,IAAI,CAAC,QAAQ;gBAAE,OAAO;;YAG1B,IAAI,IAAI,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,cAAc,EAAE;gBACpC,cAAc,GAAG,IAAI,CAAC;gBACtB,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;aACnB;YAED,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAE3B,IAAM,GAAG,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,GAAG,CAAC,OAAO,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;YAE7D,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC;gBAC1B,IAAM,OAAO,GAAG,EAAE,CAAC,SAAS,CAAC,KAAI,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC;gBAC3C,OAAO,CAAC,KAAK,CAAC;oBACZ,KAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;oBACxB,IAAI,KAAI,CAAC,KAAK;wBAAE,KAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,KAAI,CAAC,KAAK,CAAC,CAAC;oBACrD,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;iBACzB,CAAC,CAAC;gBAEH,OAAO,CAAC,WAAW,CAAC,eAAe,EAAE;oBACnC,KAAI,CAAC,KAAK,GAAG,OAAO,CAAC,UAAU,EAAE,CAAC;oBAElC,KAAI,CAAC,IAAI,CAAC,GAAG,CAAC,cAAM,OAAA,KAAI,CAAC,QAAQ,CAAC,KAAI,CAAC,KAAK,CAAC,GAAA,CAAC,CAAC;iBAChD,CAAC,CAAC;aACJ,CAAC,CAAC;YACH,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACrB,IAAI,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC;SACzB;QAEO,kCAAO,GAAf;YAAA,iBAaC;YAZC,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACjB,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC;oBAC1B,MAAM,CAAC,IAAI,CAAC,KAAI,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,UAAA,IAAI;wBACnC,OAAA,KAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,IAAI,EAAE,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;qBAAA,CACtD,CAAC;oBACF,KAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;oBACtC,KAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,eAAe,CAAC,CAAC;oBAC9C,KAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;oBACxB,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;iBACtB,CAAC,CAAC;aACJ;YACD,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;SACvB;QAEO,sCAAW,GAAnB;YACE,IAAI,CAAC,IAAI,CAAC,QAAQ;gBAAE,OAAO;YAC3B,IAAI,IAAI,CAAC,SAAS,EAAE;gBAClB,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC;aAC7B;iBAAM;gBACL,IAAI,CAAC,QAAQ,CAAC,UAAU,EAAE,CAAC;aAC5B;SACF;QAOD,sBAAI,sCAAQ;;;;;;iBAAZ;gBACE,OAAO,IAAI,CAAC,QAAQ,CAAC;aACtB;;;WAAA;;;;QAKD,sCAAW,GAAX,UAAY,IAAoB;YAAhC,iBAiBC;YAhBC,IAAI,CAAC,EAAE;iBACJ,UAAU,CACN,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,gBAAgB,cAAS,IAAI,SAAI,IAAI,QAAK,CAC/D;iBACA,IAAI,CAAC,UAAA,GAAG;gBACP,KAAI,CAAC,OAAO,EAAE,CAAC;;gBAGf,IAAI,CAAC,EAAE,CAAC,SAAS,EAAE;oBACjB,EAAE,CAAC,SAAS,GAAG,EAAE,CAAC,IAAI,CAAC;iBACxB;gBACD,EAAE,CAAC,IAAI,GAAG,EAAE,CAAC;gBACb,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;gBAEnC,KAAI,CAAC,SAAS,EAAE,CAAC;aAClB,CAAC,CAAC;SACN;;;;QAKD,sCAAW,GAAX,UAAY,SAAqB,EAAE,EAAY;YAC7C,IAAI,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC;gBAAE,OAAO;YACnC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC;YAC5B,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;SAC1C;;;;QAKD,yCAAc,GAAd,UAAe,SAAqB;YAClC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC;gBAAE,OAAO;YACpC,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC;YAChE,OAAO,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;SAC/B;QAED,sCAAW,GAAX;YACE,IAAI,CAAC,OAAO,EAAE,CAAC;SAChB;;QAGD,uCAAY,GAAZ;YACE,IAAI,CAAC,OAAO,EAAE,CAAC;YACf,IAAI,CAAC,SAAS,EAAE,CAAC;SAClB;QAED,qCAAU,GAAV,UAAW,KAAa;YACtB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;YACnB,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACjB,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aACtC;SACF;QAED,2CAAgB,GAAhB,UAAiB,EAAkB;YACjC,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;SACpB;QACD,4CAAiB,GAAjB,UAAkB,EAAY;YAC5B,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;SACrB;QAED,2CAAgB,GAAhB,UAAiB,UAAmB;YAClC,IAAI,CAAC,QAAQ,GAAG,UAAU,CAAC;YAC3B,IAAI,CAAC,WAAW,EAAE,CAAC;SACpB;;oBAzOFC,cAAS,SAAC;wBACT,QAAQ,EAAE,SAAS;wBACnB,QAAQ,EAAE,sJAGT;wBACD,mBAAmB,EAAE,KAAK;wBAW1B,SAAS,EAAE;4BACT;gCACE,OAAO,EAAEC,uBAAiB;gCAC1B,WAAW,EAAEC,eAAU,CAAC,cAAM,OAAA,gBAAgB,GAAA,CAAC;gCAC/C,KAAK,EAAE,IAAI;6BACZ;yBACF;wBACD,eAAe,EAAEC,4BAAuB,CAAC,MAAM;iCAhB7C,iIAOC;qBAUJ;;;;;wBAjDQ,aAAa;wBACb,aAAa;wBATpBC,sBAAiB;wBAIjBC,WAAM;;;;6BAqELC,UAAK;iCAELA,UAAK;+BAELA,UAAK;4BAQLA,UAAK;iCAGLC,WAAM;8BAENA,WAAM;gCAENA,WAAM;;QA8KT,uBAAC;KA1OD;;;QClCA;SAaC;QANQ,qBAAO,GAAd,UAAe,MAAqB;YAClC,OAAO;gBACL,QAAQ,EAAE,aAAa;gBACvB,SAAS,EAAE,CAAC,EAAE,OAAO,EAAE,aAAa,EAAE,QAAQ,EAAE,MAAM,EAAE,CAAC;aAC1D,CAAC;SACH;;oBAZFC,aAAQ,SAAC;wBACR,OAAO,EAAE,CAACC,mBAAY,CAAC;wBACvB,SAAS,EAAE,CAAC,aAAa,CAAC;wBAC1B,YAAY,EAAE,CAAC,gBAAgB,CAAC;wBAChC,OAAO,EAAE,CAAC,gBAAgB,CAAC;qBAC5B;;QAQD,oBAAC;KAbD;;ICPA;;OAEG;;;;;;;;;;;;;;;"}
